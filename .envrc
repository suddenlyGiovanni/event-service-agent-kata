#!/usr/bin/env bash

# Store direnv/nix flakes cache outside the repo to avoid editor index noise
# and GC-safe cached inputs in .direnv/flake-inputs inside the project.
direnv_layout_dir() {
	local hash
	hash=$(printf %s "$PWD" | shasum -a 1 | cut -c1-8)
	printf "%s\n" "${XDG_CACHE_HOME:-$HOME/.cache}/direnv/$hash"
}

use flake;
